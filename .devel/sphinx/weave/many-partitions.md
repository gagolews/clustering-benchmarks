



(sec:many-partitions)=
# There Can Be Many Valid Partitions

We believe that it is in the very spirit of unsupervised learning
that in many cases, **there might be many equally
valid/plausible/useful ways to partition a given dataset**
(see also {cite}`sdmc,LuxburgETAL2012:clustscienceart` for discussion).


## Alternative Labellings

This is why some benchmark sets come with alternative labellings.
For instance, consider the {ref}`graves/zigzag_noisy <sec:suite-v1>`
dataset {cite}`graves`:



```python
import numpy as np
import clustbench
data_url = "https://github.com/gagolews/clustering-data-v1/raw/v1.0.1"
benchmark = clustbench.load_dataset("graves", "zigzag_noisy", url=data_url)
```

It is equipped with two different reference partitions:



```python
len(benchmark.labels)
## 2
```

They are depicted below.




```python
import genieclust
for i in range(len(benchmark.labels)):
    y_true = benchmark.labels[i]
    plt.subplot(1, len(benchmark.labels), i+1)
    genieclust.plots.plot_scatter(
        benchmark.data, labels=benchmark.labels[i]-1,
        axis="equal", title=f"labels{i}; k={benchmark.n_clusters[i]}"
    )

plt.show()
```

(fig:many-partitions)=
```{figure} many-partitions-figures/many-partitions-1.*
There can be many equally valid partitions.
```



## Predicted vs Best-Matching Reference Labelling

An algorithm should be rewarded for finding a partition
that matches at least one of the reference ones.
This might require running the method multiple times
to find partitions of different cardinalities
(unless it is a hierarchical one).


::::{important}
The outputs generated by a single algorithm
should be evaluated against all the available reference labellings
and the *maximal* similarity score should be reported.
::::




An example featuring the outputs generated by
[*Genie*](https://genieclust.gagolewski.com):



```python
g = genieclust.Genie()
results = clustbench.fit_predict_many(g, benchmark.data, benchmark.n_clusters)

for i, k in enumerate(results):
    plt.subplot(1, len(results), i+1)
    genieclust.plots.plot_scatter(
        benchmark.data, labels=results[k]-1,
        axis="equal", title=f"Genie; k={k}"
    )

plt.show()
```

(fig:many-partitions-genie)=
```{figure} many-partitions-figures/many-partitions-genie-3.*
Results generated by Genie.
```

The similarity scores for the consecutive reference label vectors are:



```python
clustbench.get_score(benchmark.labels, results, compute_max=False)
## array([1.        , 0.87875611])
```

And hence the maximal score is:



```python
clustbench.get_score(benchmark.labels, results)
## 1.0
```


::::{note}
Experts (like you) are encouraged to {ref}`contribute <sec:contributing>`
new reference labellings.
See also the *{ref}`Colouriser <sec:colouriser>`* class
for a way to generate label vectors interactively (for planar datasets).
::::
