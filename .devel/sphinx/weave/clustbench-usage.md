



(sec:clustbench-usage)=
# Using *clustbench* ðŸš§

::::{todo}
This page (as well as the mentioned Python package)
is under construction. Please come back later.
::::




ðŸš§ The Python version of the *clustering-benchmarks* package
can be installed from [PyPI](https://pypi.org/project/clustering-benchmarks/),
e.g., via a call to `pip3 install clustering-benchmarks` from the command line.

Once installed, we can import it by calling:



```python
import clustbench
```

Below we discuss its basic features.


::::{note}
*To learn more about Python,
check out Marek's recent open-access (free!) textbook*
[Minimalist Data Wrangling in Python](https://datawranglingpy.gagolewski.com/)
{cite}`datawranglingpy`.
::::


## ... to do ...




```python
# load from a local library (download the suite manually)
import os.path
data_path = os.path.join("~", "Projects", "clustering-data-v1")
print(clustbench.get_battery_names(path=data_path))
## ['fcps', 'g2mg', 'graves', 'h2mg', 'mnist', 'other', 'sipu', 'uci', 'wut']
battery = "wut"
print(clustbench.get_dataset_names(battery, path=data_path))
## ['circles', 'cross', 'graph', 'isolation', 'labirynth', 'mk1', 'mk2', 'mk3', 'mk4', 'olympic', 'smile', 'stripes', 'trajectories', 'trapped_lovers', 'twosplashes', 'windows', 'x1', 'x2', 'x3', 'z1', 'z2', 'z3']
dataset = "x2"
b = clustbench.load_dataset(battery, dataset, path=data_path)
print(b.battery, b.dataset, sep="/")
## wut/x2
print(b.description)
## Author: Eliza Kaczorek (Warsaw University of Technology)
## 
## `labels0` come from the Author herself.
## `labels1` were generated by Marek Gagolewski.
## `0` denotes the noise class (if present).
print(b.data.shape, len(b.labels), b.n_clusters)
## (120, 2) 2 [3 4]
import genieclust
for i in range(len(b.labels)):
    plt.subplot(1, len(b.labels), i+1)
    genieclust.plots.plot_scatter(
        b.data, labels=b.labels[i]-1, axis="equal", title=f"labels{i}"
    )
plt.show()
```

(fig:using-clustbench-example1)=
```{figure} clustbench-usage-figures/using-clustbench-example1-1.*
An example benchmark dataset and the corresponding ground truth labels.
```


results:



```python
results_path = os.path.join("~", "Projects", "clustering-results-v1", "original")
res = clustbench.load_results(
    "Genie", b.battery, b.dataset, b.n_clusters, path=results_path
)
print(list(res.keys()))
## ['Genie_G0.1', 'Genie_G0.3', 'Genie_G0.5', 'Genie_G0.7', 'Genie_G1.0']
```

..



```python
pd.Series({
    method: clustbench.get_score(b.labels, res[method])
    for method in res.keys()
})
## Genie_G0.1    0.870000
## Genie_G0.3    0.870000
## Genie_G0.5    0.590909
## Genie_G0.7    0.666667
## Genie_G1.0    0.010000
## dtype: float64
```

..



```python
method = "Genie_G0.3"
for i, k in enumerate(res[method].keys()):
    plt.subplot(1, len(res[method]), i+1)
    genieclust.plots.plot_scatter(
        b.data, labels=res[method][k]-1, axis="equal", title=f"{method}; k={k}"
    )
plt.show()
```

(fig:using-clustbench-example2)=
```{figure} clustbench-usage-figures/using-clustbench-example2-3.*
Results generated by Genie.
```

..



```python
import sklearn.cluster
m = sklearn.cluster.KMeans()
res["KMeans"] = clustbench.fit_predict_many(m, b.data, b.n_clusters)
clustbench.get_score(b.labels, res["KMeans"])
## 0.9848484848484849
```


.




```python
method = "KMeans"
for i, k in enumerate(res[method].keys()):
    plt.subplot(1, len(res[method]), i+1)
    genieclust.plots.plot_scatter(
        b.data, labels=res[method][k]-1, axis="equal", title=f"{method}; k={k}"
    )
plt.show()
```

(fig:using-clustbench-example3)=
```{figure} clustbench-usage-figures/using-clustbench-example3-5.*
Results generated by K-Means.
```
