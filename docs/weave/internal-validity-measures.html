<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Changelog" href="../news.html" /><link rel="prev" title="External Cluster Validity Measures" href="external-validity-measures.html" />
        <link rel="canonical" href="https://clustering-benchmarks.gagolewski.com/weave/internal-validity-measures.html" />

    <link rel="shortcut icon" href="../_static/favicon.png"/><!-- Generated with Sphinx 7.2.5 and Furo 2023.08.19 -->
        <title>Side Note: Internal (In)Validity Measures - Clustering Benchmarks</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=dd03ec4f" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: red;
  --color-brand-content: #CC3333;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Clustering Benchmarks</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<div class="sidebar-logo-container">
  <a class="sidebar-brand" href="../index.html"><img class="sidebar-logo" src="https://www.gagolewski.com/_static/img/clustbench.png" alt="Logo"/></a>
</div>

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="../index.html">Clustering Benchmarks</a>
</span>
<div class="sidebar-brand">
1.1.2
</div>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Methodology</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="true-vs-predicted.html">True vs Predicted Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise-points.html">Noise Points</a></li>
<li class="toctree-l1"><a class="reference internal" href="many-partitions.html">There Can Be Many Valid Partitions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Benchmark Batteries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="suite-v1.html">Benchmark Suite (v1.1.0)</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-v1.html">Explore Datasets (v1.1.0)</a></li>
<li class="toctree-l1"><a class="reference internal" href="results-v1.html">Clustering Results Repository (v1.1.0)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-format.html">File Format Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-access.html">Access from Python, R, MATLAB, etc.</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="clustbench-usage.html">Using <em>clustbench</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../clustbench-documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/clustering-benchmarks">Source Code (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/clustering-benchmarks">PyPI Entry</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">See Also</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author's Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://datawranglingpy.gagolewski.com/">Data Wrangling in Python</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com">Deep R Programming</a></li>
<li class="toctree-l1"><a class="reference external" href="https://genieclust.gagolewski.com/">genieclust Package</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="colouriser.html">Colouriser: A Planar Data Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-validity-measures.html">External Cluster Validity Measures</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Side Note: Internal <em>(In)Validity</em> Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../z_bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/clustering-benchmarks//issues/" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="side-note-internal-in-validity-measures">
<span id="sec-internal-validity-measures"></span><h1>Side Note: Internal <em>(In)Validity</em> Measures<a class="headerlink" href="#side-note-internal-in-validity-measures" title="Link to this heading">#</a></h1>
<p>Internal cluster <em>validity</em> measures (see, e.g.,
<span id="id1">[<a class="reference internal" href="../z_bibliography.html#id51" title="Arbelaitz, O., Gurrutxaga, I., Muguerza, J., Pérez, J.M., and Perona, I. (2013).  An extensive comparative study of cluster validity indices. Pattern Recognition, 46(1):243–256. DOI: https://doi.org/10.1016/j.patcog.2012.07.021.">1</a>, <a class="reference internal" href="../z_bibliography.html#id38" title="Halkidi, M., Batistakis, Y., and Vazirgiannis, M. (2001).  On clustering validation techniques. Journal of Intelligent Information Systems, pages 107–145. DOI: 10.1023/A:1012801612483.">31</a>, <a class="reference internal" href="../z_bibliography.html#id37" title="Maulik, U. and Bandyopadhyay, S. (2002).  Performance evaluation of some clustering algorithms and validity indices. IEEE Transactions on Pattern Analysis and Machine Intelligence, 24(12):1650-1654. DOI: 10.1109/TPAMI.2002.1114856.">39</a>, <a class="reference internal" href="../z_bibliography.html#id36" title="Milligan, G.W. and Cooper, M.C. (1985).  An examination of procedures for determining the number of clusters in a data set. Psychometrika, 50(2):159–179.">42</a>, <a class="reference internal" href="../z_bibliography.html#id50" title="Xu, Q., Zhang, Q., Liu, J., and Luo, B. (2020).  Efficient synthetical clustering validity indexes for hierarchical clustering. Expert Systems with Applications, 151:113367. DOI: 10.1016/j.eswa.2020.113367.">62</a>]</span>)
might aid in selecting the number of clusters a dataset should
be partitioned to. They do not require the presence of expert labels.
Instead, their aim is to quantify different aspects of the obtained
partitions, e.g., the average degree of cluster compactness or point
separability.</p>
<p>Sometimes, internal measures are also used to compare
the outputs of different clustering algorithms on the same dataset
with the intention to determine which one is more <em>valid</em>.</p>
<p>However, in <span id="id2">[<a class="reference internal" href="../z_bibliography.html#id10" title="Gagolewski, M., Bartoszuk, M., and Cena, A. (2021).  Are cluster validity measures (in)valid? Information Sciences, 581:620–636. URL: https://arxiv.org/pdf/2208.01261, DOI: 10.1016/j.ins.2021.10.004.">26</a>]</span> (also see the <a class="reference internal" href="results-v1.html#sec-results-v1"><span class="std std-ref">Clustering Results Repository (v1.1.0)</span></a> section),
we have pointed out that <strong>many measures promote some rather random
groupings whilst other ones seem more suitable for…
detecting outliers</strong>.
We should therefore not uncritically deem a high value of, say,
the Silhouette or Davies–Bouldin index <em>better</em> than a lower one.</p>
<section id="notation">
<h2>Notation<a class="headerlink" href="#notation" title="Link to this heading">#</a></h2>
<p>For the sake of completeness, let us recall the definitions
of some popular indices. Their implementation is included
in the <a class="reference external" href="https://genieclust.gagolewski.com/"><em>genieclust</em></a>
package for Python and R <span id="id3">[<a class="reference internal" href="../z_bibliography.html#id11" title="Gagolewski, M. (2021).  genieclust: Fast and robust hierarchical clustering. SoftwareX, 15:100722. URL: https://genieclust.gagolewski.com/, DOI: 10.1016/j.softx.2021.100722.">20</a>]</span>.
Note that this section contains excerpts from <span id="id4">[<a class="reference internal" href="../z_bibliography.html#id10" title="Gagolewski, M., Bartoszuk, M., and Cena, A. (2021).  Are cluster validity measures (in)valid? Information Sciences, 581:620–636. URL: https://arxiv.org/pdf/2208.01261, DOI: 10.1016/j.ins.2021.10.004.">26</a>]</span>.</p>
<p>Let <span class="math notranslate nohighlight">\(\mathbf{X}\in\mathbb{R}^{n\times d}\)</span> denote the input dataset
comprised of <span class="math notranslate nohighlight">\(n\)</span> points in a <span class="math notranslate nohighlight">\(d\)</span>-dimensional Euclidean space, with
<span class="math notranslate nohighlight">\(\mathbf{x}_i = (x_{i,1},\dots,x_{i,d})\)</span> giving the coordinates of
the <span class="math notranslate nohighlight">\(i\)</span>-th point, <span class="math notranslate nohighlight">\(i\in\{1,2,\dots,n\}\)</span>.</p>
<p>A <span class="math notranslate nohighlight">\(k\)</span>-partition <span class="math notranslate nohighlight">\(\{X_1,\dots,X_k\}\)</span> of a set
<span class="math notranslate nohighlight">\(\{\mathbf{x}_1, \dots, \mathbf{x}_n\}\)</span>
can be encoded by means of a <em>label vector</em> <span class="math notranslate nohighlight">\(\mathbf{y}\)</span>, where
<span class="math notranslate nohighlight">\(y_i\in\{1,\dots,k\}\)</span> gives the cluster ID of the <span class="math notranslate nohighlight">\(i\)</span>-th point.</p>
<p>The measures listed below are based on Euclidean distances between all pairs
of points, <span class="math notranslate nohighlight">\(\|\mathbf{x}_i-\mathbf{x}_j\|\)</span>, or the input points and some
other pivots, such as their corresponding <em>cluster centroids</em>,
<span class="math notranslate nohighlight">\(\|\mathbf{x}_i-\boldsymbol\mu_j\|,\)</span> where for <span class="math notranslate nohighlight">\(j\in\{1,\dots,k\}\)</span> and <span class="math notranslate nohighlight">\(l\in\{1,\dots,d\}\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mu_{j,l} = \frac{1}{|X_j|} \sum_{\mathbf{x}_i\in X_j} x_{i,l}.
\]</div>
</div>
</section>
<section id="indices-based-on-cluster-centroids">
<h2>Indices Based on Cluster Centroids<a class="headerlink" href="#indices-based-on-cluster-centroids" title="Link to this heading">#</a></h2>
<section id="ballhall">
<h3>Ball–Hall<a class="headerlink" href="#ballhall" title="Link to this heading">#</a></h3>
<p>The Ball–Hall index <span id="id5">[<a class="reference internal" href="../z_bibliography.html#id42" title="Ball, G.H. and Hall, D.J. (1965).  ISODATA: A novel method of data analysis and pattern classification. Technical Report AD699616, Stanford Research Institute.">2</a>]</span> is the within-cluster
sum of squares weighted by the cluster cardinality:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathrm{BallHall}(\mathbf{y}) = -\sum_{i=1}^n \frac{1}{|X_{y_i}|}
\| \mathbf{x}_i - \boldsymbol\mu_{y_i} \|^2.
\]</div>
</div>
<p>Note the minus sign that accounts for the fact that we would rather
have the index maximised.</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.negated_ball_hall_index</span></code></em>.</p>
</section>
<section id="calinskiharabasz">
<h3>Caliński–Harabasz<a class="headerlink" href="#calinskiharabasz" title="Link to this heading">#</a></h3>
<p>The Caliński–Harabasz index (Eq. (3) in <span id="id6">[<a class="reference internal" href="../z_bibliography.html#id39" title="Caliński, T. and Harabasz, J. (1974).  A dendrite method for cluster analysis. Communications in Statistics, 3(1):1–27. DOI: 10.1080/03610927408827101.">7</a>]</span>;
“variance ratio criterion”) is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mathrm{CalińskiHarabasz}(\mathbf{y}) =
\frac{n-k}{k-1}
\frac{
\sum_{i=1}^n   \| \boldsymbol\mu - \boldsymbol\mu_{y_i} \|^2
}{
\sum_{i=1}^n   \| \mathbf{x}_i - \boldsymbol\mu_{y_i} \|^2
},
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\boldsymbol\mu\)</span> denotes the centroid of the whole dataset <span class="math notranslate nohighlight">\(\mathbf{X}\)</span>,
i.e., a vector such that
<span class="math notranslate nohighlight">\(\mu_{l} = \frac{1}{n} \sum_{x=1}^n x_{i,l}\)</span> for <span class="math notranslate nohighlight">\(l\in\{1,\dots,d\}\)</span>.</p>
<p>It may be shown that the task of minimising the (unweighted) within-cluster
sum of squares is equivalent to maximising the Caliński–Harabasz index.
Hence, this index is precisely the objective function in the <span class="math notranslate nohighlight">\(k\)</span>-means method
<span id="id7">[<a class="reference internal" href="../z_bibliography.html#id49" title="Lloyd, S.P. (1957).  Least squares quantization in PCM. IEEE Transactions on Information Theory, 28:128–137. Originally a 1957 Bell Telephone Laboratories Research Report; republished in 1982. DOI: 10.1109/TIT.1982.1056489.">38</a>]</span> and the algorithms by Ward, Edwards, and Cavalli–Sforza;
see <span id="id8">[<a class="reference internal" href="../z_bibliography.html#id39" title="Caliński, T. and Harabasz, J. (1974).  A dendrite method for cluster analysis. Communications in Statistics, 3(1):1–27. DOI: 10.1080/03610927408827101.">7</a>, <a class="reference internal" href="../z_bibliography.html#id46" title="Edwards, A.W.F. and Cavalli-Sforza, L.L. (1965).  A method for cluster analysis. Biometrics, 21(2):362–375. DOI: 10.2307/2528096.">14</a>, <a class="reference internal" href="../z_bibliography.html#id47" title="Ward Jr., J.H. (1963).  Hierarchical grouping to optimize an objective function. Journal of the American Statistical Association, 58(301):236–244. DOI: 10.1080/01621459.1963.10500845.">59</a>]</span>.</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.calinski_harabasz_index</span></code></em>.</p>
</section>
<section id="daviesbouldin">
<h3>Davies–Bouldin<a class="headerlink" href="#daviesbouldin" title="Link to this heading">#</a></h3>
<p>The Davies-Bouldin index (Def. 5 in <span id="id9">[<a class="reference internal" href="../z_bibliography.html#id40" title="Davies, D.L. and Bouldin, D.W. (1979).  A cluster separation measure. IEEE Transactions on Pattern Analysis and Machine Intelligence, PAMI–1(2):224–227. DOI: 10.1109/TPAMI.1979.4766909.">11</a>]</span>)
is given as the average similarity between each cluster and its most
similar counterpart (note the minus sign again):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mathrm{DaviesBouldin}(\mathbf{y}) =
-\frac{1}{k}
\sum_{i=1}^k\left(
\max_{j\neq i}
\frac{s_i+s_j}{m_{i,j}}
\right),
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(s_i\)</span> is the dispersion of the <span class="math notranslate nohighlight">\(i\)</span>-th cluster: if
<span class="math notranslate nohighlight">\(|X_i|&gt;1\)</span>, it is given by
<span class="math notranslate nohighlight">\(s_i=\frac{1}{|X_i|}\sum_{\mathbf{x}_u\in X_i} \|\mathbf{x}_u-\boldsymbol\mu_i\|\)</span>
and otherwise we set <span class="math notranslate nohighlight">\(s_i=\infty\)</span>. Furthermore, <span class="math notranslate nohighlight">\(m_{i,j}\)</span> is the
intra-cluster distance, <span class="math notranslate nohighlight">\(m_{i,j}=\|\boldsymbol\mu_i-\boldsymbol\mu_j\|\)</span>.</p>
<p>On a side note, in <span id="id10">[<a class="reference internal" href="../z_bibliography.html#id40" title="Davies, D.L. and Bouldin, D.W. (1979).  A cluster separation measure. IEEE Transactions on Pattern Analysis and Machine Intelligence, PAMI–1(2):224–227. DOI: 10.1109/TPAMI.1979.4766909.">11</a>]</span>, other choices of <span class="math notranslate nohighlight">\(s_i\)</span>
and <span class="math notranslate nohighlight">\(m_{i,j}\)</span> are also suggested. We have recalled only the most popular setting
here (used, e.g., in <span id="id11">[<a class="reference internal" href="../z_bibliography.html#id51" title="Arbelaitz, O., Gurrutxaga, I., Muguerza, J., Pérez, J.M., and Perona, I. (2013).  An extensive comparative study of cluster validity indices. Pattern Recognition, 46(1):243–256. DOI: https://doi.org/10.1016/j.patcog.2012.07.021.">1</a>]</span>).</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.negated_davies_bouldin_index</span></code></em>.</p>
</section>
</section>
<section id="silhouettes">
<h2>Silhouettes<a class="headerlink" href="#silhouettes" title="Link to this heading">#</a></h2>
<section id="silhouette">
<h3>Silhouette<a class="headerlink" href="#silhouette" title="Link to this heading">#</a></h3>
<p>In Sec. 2 of <span id="id12">[<a class="reference internal" href="../z_bibliography.html#id43" title="Rousseeuw, P.J. (1987).  Silhouettes: A graphical aid to the interpretation and validation of cluster analysis. Journal of Computational and Applied Mathematics, 20:53–65. DOI: 10.1016/0377-0427(87)90125-7.">48</a>]</span>, Rousseeuw proposed the notion of
a silhouette as a graphical aid in cluster analysis.</p>
<p>Denote the average dissimilarity between the <span class="math notranslate nohighlight">\(i\)</span>-th point and all other
points in its own cluster by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
a_i = \frac{1}{|X_{y_i}|-1} \sum_{\mathbf{x}_u\in X_{y_i}} \| \mathbf{x}_i-\mathbf{x}_u \|,
\]</div>
</div>
<p>and the average dissimilarity between the <span class="math notranslate nohighlight">\(i\)</span>-th point and all other
entities in the “closest” cluster with:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
b_i = \min_{j\neq y_i} \left(
\frac{1}{|X_j|} \sum_{\mathbf{x}_v\in X_{j}} \| \mathbf{x}_i-\mathbf{x}_v \|
\right).
\]</div>
</div>
<p>Then the <em>Silhouette</em> index is defined as the average
silhouette score:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mathrm{Silhouette}(\mathbf{y}) = \frac{1}{n}\sum_{i=1}^n \frac{b_i-a_i}{\max\{ a_i, b_i \}},
\]</div>
</div>
<p>with convention <span class="math notranslate nohighlight">\(\pm\infty/\infty=0\)</span>.</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.silhouette_index</span></code></em>.</p>
</section>
<section id="silhouettew">
<h3>SilhouetteW<a class="headerlink" href="#silhouettew" title="Link to this heading">#</a></h3>
<p>The paper <span id="id13">[<a class="reference internal" href="../z_bibliography.html#id43" title="Rousseeuw, P.J. (1987).  Silhouettes: A graphical aid to the interpretation and validation of cluster analysis. Journal of Computational and Applied Mathematics, 20:53–65. DOI: 10.1016/0377-0427(87)90125-7.">48</a>]</span> also defines
what we call here the <em>SilhouetteW</em> index,
being the mean of the cluster average silhouette widths:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mathrm{SilhouetteW}(\mathbf{y}) = \frac{1}{k-s}
\sum_{i=1}^n
\frac{1}{|X_{y_i}|}
\frac{b_i-a_i}{\max\{ a_i, b_i \}},
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(s\)</span> is the number of singletons, i.e., clusters of size 1.
Note that <em>SilhouetteW</em>, just like <em>BallHall</em>, employs
weighting by cluster cardinalities.</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.silhouette_w_index</span></code></em>.</p>
</section>
</section>
<section id="generalised-dunn-indices">
<h2>Generalised Dunn Indices<a class="headerlink" href="#generalised-dunn-indices" title="Link to this heading">#</a></h2>
<p>In <span id="id14">[<a class="reference internal" href="../z_bibliography.html#id41" title="Dunn, J.C. (1974).  A fuzzy relative of the ISODATA process and its use in detecting compact well-separated clusters. Journal of Cybernetics, 3(3):32–57. DOI: 10.1080/01969727308546046.">13</a>]</span> (see Eq. (3) therein),
Dunn proposed an index defined as the
ratio between the smallest between-cluster distance and the largest
cluster diameter.</p>
<p>This index has been generalised by Bezdek and Pal in
<span id="id15">[<a class="reference internal" href="../z_bibliography.html#id52" title="Bezdek, J.C. and Pal, N.R. (1998).  Some new indexes of cluster validity. IEEE Transactions on Systems, Man, and Cybernetics, Part B (Cybernetics), 28(3):301–315. DOI: 10.1109/3477.678624.">4</a>]</span> as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\mathrm{GDunn}(\mathbf{y})=
\frac{
\min_{i\neq j} d\left( X_i, X_j \right)
}{
\max_{i} D\left( X_i \right)
}.
\]</div>
</div>
<p>The numerator measures the between-cluster separation whilst the
denominator quantifies the cluster compactness.</p>
<p>The function <span class="math notranslate nohighlight">\(d\)</span> can be assumed one of:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(d_1(X_i, X_j)=\mathrm{Min}\left(
\left\{ \|\mathbf{x}_{u}-\mathbf{x}_{v}\|: \mathbf{x}_{u}\in X_i, \mathbf{x}_{v}\in X_j\right\}
\right)\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(d_2(X_i, X_j)=\mathrm{Max}\left(
\left\{ \|\mathbf{x}_{u}-\mathbf{x}_{v}\|: \mathbf{x}_{u}\in X_i, \mathbf{x}_{v}\in X_j \right\}
\right)\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(d_3(X_i, X_j)=\mathrm{Mean}\left(
\left\{ \|\mathbf{x}_{u}-\mathbf{x}_{v}\|: \mathbf{x}_{u}\in X_i, \mathbf{x}_{v}\in X_j \right\}
\right)\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(d_4(X_i, X_j)= \|\boldsymbol\mu_i-\boldsymbol\mu_j\|\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(d_5(X_i, X_j)=
\frac{
|X_i|\,\mathrm{Mean}\left(
\left\{ \|\mathbf{x}_{u}-\boldsymbol\mu_i \|: \mathbf{x}_{u}\in X_i\right\}
\right)
+
|X_j|\,\mathrm{Mean}\left(
\left\{ \|\mathbf{x}_{v}-\boldsymbol\mu_j \|: \mathbf{x}_{v}\in X_j\right\}
\right)
}{
|X_i|+|X_j|
}\)</span>.</p></li>
</ul>
<p>Bezdek and Pal in <span id="id16">[<a class="reference internal" href="../z_bibliography.html#id41" title="Dunn, J.C. (1974).  A fuzzy relative of the ISODATA process and its use in detecting compact well-separated clusters. Journal of Cybernetics, 3(3):32–57. DOI: 10.1080/01969727308546046.">13</a>]</span> also considered a function
based on the Hausdorff metric, but it is overall quite slow to compute.</p>
<p>On the other hand, <span class="math notranslate nohighlight">\(D\)</span> can be, for example:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(D_1(X_i)=\mathrm{Max}\left(
\left\{ \|\mathbf{x}_{u}-\mathbf{x}_{v}\|: \mathbf{x}_{u},\mathbf{x}_{v}\in X_i\right\}
\right)\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(D_2(X_i)=\mathrm{Mean}\left(
\left\{ \|\mathbf{x}_{u}-\mathbf{x}_{v}\|: \mathbf{x}_{u},\mathbf{x}_{v}\in X_i\right\}
\right)\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(D_3(X_i)=\mathrm{Mean}\left(
\left\{ \|\mathbf{x}_{u}-\boldsymbol\mu_i\|: \mathbf{x}_{u}\in X_i\right\}
\right)\)</span>.</p></li>
</ul>
<p>There are thus 15 different combinations of the possible numerators and
denominators, hence 15 different indices, which we may denote
by <em>GDunn_dX_DY</em>. In particular, <em>GDunn_d1_D1</em> gives the original Dunn
<span id="id17">[<a class="reference internal" href="../z_bibliography.html#id41" title="Dunn, J.C. (1974).  A fuzzy relative of the ISODATA process and its use in detecting compact well-separated clusters. Journal of Cybernetics, 3(3):32–57. DOI: 10.1080/01969727308546046.">13</a>]</span> index.</p>
<p><em>Implementation: <a class="reference external" href="https://genieclust.gagolewski.com/"><code class="docutils literal notranslate"><span class="pre">genieclust</span></code></a><code class="docutils literal notranslate"><span class="pre">.cluster_validity.generalised_dunn_index</span></code></em>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../news.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Changelog</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="external-validity-measures.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">External Cluster Validity Measures</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2020–2023 by <a href="https://www.gagolewski.com">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0/'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2023-11-02T13:34:12+1100.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this section
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Side Note: Internal <em>(In)Validity</em> Measures</a><ul>
<li><a class="reference internal" href="#notation">Notation</a></li>
<li><a class="reference internal" href="#indices-based-on-cluster-centroids">Indices Based on Cluster Centroids</a><ul>
<li><a class="reference internal" href="#ballhall">Ball–Hall</a></li>
<li><a class="reference internal" href="#calinskiharabasz">Caliński–Harabasz</a></li>
<li><a class="reference internal" href="#daviesbouldin">Davies–Bouldin</a></li>
</ul>
</li>
<li><a class="reference internal" href="#silhouettes">Silhouettes</a><ul>
<li><a class="reference internal" href="#silhouette">Silhouette</a></li>
<li><a class="reference internal" href="#silhouettew">SilhouetteW</a></li>
</ul>
</li>
<li><a class="reference internal" href="#generalised-dunn-indices">Generalised Dunn Indices</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=6f037312"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>